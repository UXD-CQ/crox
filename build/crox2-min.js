/*
 Crox v1.4.8
 https://github.com/thx/crox

 Released under the MIT license
 md5: 5344a500432ebe9b6eeaea4051c6100c
*/
KISSY.add("crox",function(){function v(b,a){this.row=b;this.col=a}function x(b,a){var e=b.substring(0,a),h=e.match(/\r\n?|\n/g),q=1;h&&(q+=h.length);e=1+/[^\r\n]*$/.exec(e)[0].length;return new v(q,e)}function A(b){return'"'+b.replace(/[\x00-\x1f"\\\u2028\u2029]/g,function(a){switch(a){case '"':return'\\"';case "\\":return"\\\\";case "\b":return"\\b";case "\f":return"\\f";case "\n":return"\\n";case "\r":return"\\r";case "\t":return"\\t"}return"\\u"+("000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"'}function B(b){return eval(b)}function C(b){function a(a,u,c,b,e,k){this.tag=a;this.text=u;this.index=c;this.subMatches=b;this.end=e;this.pos=k}function e(){}function h(a){for(var u=1,c=[],b=[1],d=[],k=0;k<a.length;++k)b.push(u+=RegExp("|"+a[k][0].source).exec("").length),d.push(a[k][1]||e),c.push("("+a[k][0].source+")");return[RegExp(c.join("|")+"|","g"),b,d]}a.prototype.toString=function(){return this.text};var q=b.$||"$",f={},d;for(d in b)"$"!=d.charAt(0)&&(f[d]=h(b[d]));return function(t){var u=
t.length,c=0,b=[""],e={text:"",index:0,source:t,pushState:function(a){b.push(a)},popState:function(){b.pop()},retract:function(a){c-=a}},k=new v(1,1),d=/\r\n?|\n/g,h=/[^\r\n\u2028\u2029]*$/;return{scan:function(){do{var l;a:{var m=f[b[b.length-1]],g=m[0];g.lastIndex=c;l=g.exec(t);if(""==l[0]){if(c<u)throw Error("lexer error: "+k+"\n"+t.slice(c,c+50));l=new a(q,"",c,null,c,k)}else{e.index=c;c=g.lastIndex;for(var g=m[1],p=0;p<g.length;++p)if(l[g[p]]){m=m[2][p].apply(e,l.slice(g[p],g[p+1]));l=null==
m?null:new a(m,l[0],e.index,l.slice(g[p]+1,g[p+1]),c,k);break a}l=void 0}}if(null!=l)return m=k.row,g=k.col,p=(p=l.text.match(d))?p.length:0,m+=p,g=0==p?g+l.text.length:h.exec(l.text)[0].length+1,k=new v(m,g),l}while(1)},GetCurrentPosition:function(){return k},getPos:function(a){return x(t,a)}}}}function y(b,a,e,h,q){var f="";e=e?e.replace(/^_+/,"$&$&"):"_"+w++;if(/^\w+$/.test(b))var d=b;else d="_"+w++,f="var "+d+" = "+b+";";return f+("for(var "+e+(q?"=0;"+e+"<"+d+".length; ++"+e:" in "+d)+"){var "+
h+" = "+d+"["+e+"];"+a+"}")}function z(b){w=0;return D(E(b))}v.prototype.toString=function(){return"("+this.row+","+this.col+")"};var E=function(){var b=[[/\s+/],[/\/\/[^\r\n]*|\/\*[\s\S]*?\*\//],[/[A-Za-z_]\w*/,function(a){switch(a){case "true":case "false":return"boolean";case "set":case "include":case "null":return a;default:if(-1!=" abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends final finally float for function goto if implements import in instanceof int interface let long native new package private protected public return short static super switch synchronized this throw throws transient try typeof var void volatile while with yield ".indexOf(" "+
a+" ")||"null"==a)throw Error("Reserved: "+a+" "+x(this.source,this.index));return"realId"}}],[/"(?:[^"\\]|\\[\s\S])*"|'(?:[^'\\]|\\[\s\S])*'/,function(a){return"string"}],[/\d+(?:\.\d+)?(?:e-?\d+)?/,function(a){return"number"}],[/{(?!{)/,function(a){return"{"}],[/}(?!})/,function(a){return"}"}],[function(a){a.sort().reverse();for(var b=0;b<a.length;++b)a[b]=a[b].replace(/[()*+?.[\]|]/g,"\\$&");return RegExp(a.join("|"))}("! % && ( ) * + - . / < <= = > >= [ ] || === !== == != , : ?".split(" ")),function(a){return/[*/%]/.test(a)?
"mul":/[<>]/.test(a)?"rel":/[!=]=/.test(a)?"eq":a}]];return C({"":[[/(?:(?!{{)[\s\S])+/,function(a){return"text"}],[/{{{/,function(a){this.pushState(a);return a}],[/{{(?:\/if|else|\/each|\/forin|\/raw)}}/,function(a){return a}],[/{{#raw}}/,function(a){this.pushState("raw");return a}],[/{{<script>[\s\S]*?<\/script>}}/,function(a){return"script"}],[/{{\*[\s\S]*?\*}}/],[/{{(?!\*)(?:#(?:if|each|forin)(?=\s))?/,function(a){this.pushState("{{");return a}]],raw:[[/(?:(?!{{\/raw}})[\s\S])+/,function(a){this.popState();
return"rawtext"}]],"{{":b.concat([[/}}/,function(a){this.popState();return a}]]),"{{{":b.concat([[/}}}/,function(a){this.popState();return a}]])})}(),D=function(){return function(b){function a(a,b){return d[a][b]}for(var e=b.nStart,h=b.tSymbols,q={},f=0;f<h.length;++f)q[h[f]]=f;var d=b.tAction,t=b.tGoto,u=b.tRules,c=b.tFuncs,r=b.actionIndex;r&&(a=function(a,b){var t=d[r[a]];return t[b]||t._});return function(b,k){function d(a){throw Error("Syntax error: "+b.getPos(m.index)+(a?"\n"+a:""));}var r=0,
l=[0],m=b.scan(),g=[],p={get:function(a){return g[g.length+a]},set:function(a,b){g[g.length+a]=b}};if(k)for(var n in k)p[n]=k[n];for(;;)if(n=a(r,q[m.tag]))if(0<n)l.push(r=n),g.push(m),m=b.scan();else if(0>n&&-32768<n){n=-n;var r=u[n],f=r.length-1;l.length-=f;r=t[l[l.length-1]][r[0]-e];l.push(r);c[n]?(n=c[n].apply(p,g.splice(g.length-f,f)),g.push(n)):1!=f&&g.splice(g.length-f,f,null)}else return m.tag!=h[0]&&d(),g[0];else{n=[];for(f=0;f<e;++f)a(r,f)&&n.push(h[f]);d("find "+m.tag+"\nexpect "+n.join(" "))}}}({nStart:37,
tSymbols:"$ ! && ( ) + , - . = [ ] boolean eq include mul number rawtext realId rel set string text {{ {{#each {{#forin {{#if {{#raw}} {{/each}} {{/forin}} {{/if}} {{/raw}} {{else}} {{{ || }} }}} AdditiveExpression EqualityExpression LogicalAndExpression LogicalOrExpression MemberExpression MultiplicativeExpression PrimaryExpression RelationalExpression UnaryExpression _text args epsilon expr id name program statement statements texts".split(" "),tAction:[{_:-2},{_:-32768},{22:3,23:4,24:5,25:6,26:7,
27:8,33:9,_:-1},{_:-19},{1:13,3:14,7:15,12:16,14:17,16:18,18:19,20:20,21:21,_:0},{1:13,3:14,7:15,12:16,14:33,16:18,18:19,20:34,21:21,_:0},{17:38,_:0},{_:-17},{_:-3},{22:3,27:8,_:-13},{_:-26},{21:44,_:-23},{_:-25},{_:-21},{14:33,18:19,20:34,_:-22},{_:-24},{5:46,7:47,_:-44},{13:48,_:-48},{2:49,_:-50},{34:50,_:-52},{3:51,8:52,10:53,_:-36},{15:54,_:-41},{_:-29},{19:55,_:-46},{_:-39},{35:56,_:0},{_:-27},{_:-23},{_:-22},{14:33,18:19,20:34,21:57,_:0},{35:61,_:0},{31:62,_:0},{36:63,_:0},{_:-18},{_:-37},{4:64,
_:0},{_:-38},{35:65,_:0},{9:66,_:0},{1:13,3:14,7:15,12:16,14:33,16:18,18:19,20:34,21:21,_:-53},{14:33,18:19,20:34,_:0},{_:-11},{_:-15},{_:-16},{14:33,18:19,20:34,21:57,_:-53},{_:-20},{_:-12},{_:-28},{_:-14},{15:54,_:-42},{15:54,_:-43},{19:55,_:-47},{13:48,_:-49},{2:49,_:-51},{4:85,6:86,_:0},{4:87,_:0},{_:-34},{_:-30},{11:88,_:0},{_:-40},{5:46,7:47,_:-45},{35:89,_:0},{35:90,_:0},{35:91,_:0},{35:92,_:0},{22:3,23:4,24:5,25:6,26:7,27:8,30:93,32:94,33:9,_:0},{35:95,_:0},{_:-33},{_:-32},{_:-31},{_:-4},
{_:-10},{_:-35},{22:3,23:4,24:5,25:6,26:7,27:8,28:102,33:9,_:0},{22:3,23:4,24:5,25:6,26:7,27:8,28:103,33:9,_:0},{22:3,23:4,24:5,25:6,26:7,27:8,29:104,33:9,_:0},{22:3,23:4,24:5,25:6,26:7,27:8,29:105,33:9,_:0},{22:3,23:4,24:5,25:6,26:7,27:8,30:106,33:9,_:0},{_:-6},{_:-7},{_:-8},{_:-9},{_:-5}],actionIndex:[0,1,2,3,4,5,5,5,6,5,7,8,9,5,5,5,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,5,5,5,5,5,39,40,5,5,5,41,42,43,44,44,0,45,46,47,48,5,49,50,51,52,53,54,55,
56,57,58,59,60,61,62,63,64,65,66,67,5,68,69,0,0,0,0,70,0,71,72,73,74,75,76,77,78,79,80,81,82],tGoto:[{15:1,17:2},,{9:10,16:11,18:12},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:31,13:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:35,13:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:36,13:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:37,13:32},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:39,13:32},,,{9:40},{4:26,6:28,8:41,13:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,
8:30,12:42,13:32},{4:26,6:28,8:43,13:32},,,,,{13:45},,,,,,,,,,,,,,,{13:58,14:59},{13:58,14:60},,,,,,,,,,{4:26,5:67,6:28,8:30,13:32},{4:26,5:68,6:28,8:30,13:32},{0:22,4:26,5:27,6:28,7:69,8:30,13:32},{0:22,1:70,4:26,5:27,6:28,7:29,8:30,13:32},{0:22,1:23,2:71,4:26,5:27,6:28,7:29,8:30,13:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,10:72,11:73,12:74,13:32},{13:75},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:76,13:32},{4:26,6:28,8:77,13:32},{0:78,4:26,5:27,6:28,8:30,13:32},,,,{11:79,13:58,14:80},
{11:81,13:58,14:82},{17:83},,,,,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:84,13:32},,,,,,,,,,,,,,,,,{9:10,16:11,18:12},,,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,12:96,13:32},,,{17:97},{17:98},{17:99},{17:100},,{17:101},,,{9:10,16:11,18:12},{9:10,16:11,18:12},{9:10,16:11,18:12},{9:10,16:11,18:12},{9:10,16:11,18:12}],tRules:[[56,52],[52,54],[54],[54,54,53],[53,26,49,35,54,30],[53,26,49,35,54,32,54,30],[53,24,49,51,48,35,54,28],[53,24,49,51,51,35,54,28],[53,25,49,51,48,35,54,29],[53,25,
49,51,51,35,54,29],[53,23,20,50,9,49,35],[53,23,49,35],[53,33,49,36],[53,55],[53,23,14,21,35],[51,21],[51,50],[55,46],[55,55,46],[46,22],[46,27,17,31],[50,18],[50,20],[50,14],[43,21],[43,16],[43,12],[43,50],[43,3,49,4],[41,43],[41,41,8,50],[41,41,10,49,11],[41,41,3,48,4],[41,41,3,47,4],[47,49],[47,47,6,49],[45,41],[45,1,45],[45,7,45],[42,45],[42,42,15,45],[37,42],[37,37,5,42],[37,37,7,42],[44,37],[44,44,19,37],[38,44],[38,38,13,44],[39,38],[39,39,2,38],[40,39],[40,40,34,39],[49,40],[48]],tFuncs:function(){function b(a,
b){return a+b}function a(a,b,c,d,e,k,f){return y(b,k,d,c,!1)}function e(a,b,c,d,e,f,h){return y(b,f,d,c,!1)}function h(a){return a.text}function q(a){return a}function f(a,b,c,d){return a+"("+(c||"")+")"}function d(a,b,c){return a+b.text+c}return[,function(a){return Function("root","var _obj = { '<': '&lt;', '>': '&gt;', '&': '&amp;', '\"': '&quot;' };\r\n\tfunction _htmlEncode(s) {\r\n\t\treturn String(s).replace(/[<>&\"]/g, function(c) {\r\n\t\t\treturn _obj[c];\r\n\t\t});\r\n\t}var _t,_s = '';function _print(s,e){if(s!=null){if(e)s=_htmlEncode(s);_s+=s;}}"+
a+"return _s;")},function(){return""},b,function(a,b,c,d,e){return"if("+b+"){"+d+"}"},function(a,b,c,d,e,f,h){return"if("+b+"){"+d+"}else{"+f+"}"},a,a,e,e,function(a,b,c,d,e,f){return"var "+c.text.replace(/^_+/,"$&$&")+"="+e+";"},function(a,b,c){return"_print("+b+",1);"},function(a,b,c){return"_print("+b+");"},function(a){return"_print("+A(a)+");"},function(a,b,c,d){throw Error("unimplemented: include");},function(a){return B(a.text)},h,q,b,h,function(a,b,c){return b.text},,,,h,h,h,function(a){return a.text.replace(/^_+/,
"$&$&")},function(a,b,c){return"("+b+")"},,function(a,b,c){return a+"."+c},function(a,b,c,d){return a+"["+c+"]"},f,f,q,function(a,b,c){return a+","+c},,function(a,b){return"!"+b},function(a,b){return"- "+b},,d,,d,function(a,b,c){return a+"- "+c},,d,,d,,d,,d]}()})}(),w=0;return{compile:z,render:function(b,a){return z(b)(a)}}});
